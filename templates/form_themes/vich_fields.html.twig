{% extends '@VichUploader/Form/fields.html.twig' %}

{% block vich_file_widget %}
    {{ parent() }}
{% endblock %}

{% block vich_image_widget %}
    {%- if errors|length > 0 -%}
        {%- set attr = attr|merge({class: (attr.class|default('') ~ ' is-invalid')|trim}) -%}
    {%- endif -%}
    <div class="vich-image">
        <div class="row">
            <div class="col-md-4">
                {{- form_widget(form.file, {attr: attr}) -}}
            </div>
            <div class="col-md-1">
                {%- if image_uri -%}
                    <a href="{{ asset_helper is same as(true) ? asset(image_uri) : image_uri }}" style="text-decoration: none;" download>
                        <img src="{{ asset(image_uri) | imagine_filter('thumb') }}" alt="" style="height:50px" />
                    </a>
                {%- endif -%}
                
            </div>
            <div class="col-md-4">
                
                {%- if form.delete is defined -%}
                    {{- form_row(form.delete) -}}
                {%- endif -%}
            </div>
        </div>
    </div>
{% endblock %}